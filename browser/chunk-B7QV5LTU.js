import{a as R}from"./chunk-KADRCWAM.js";import{d as M}from"./chunk-SKDPH5QL.js";import"./chunk-ST26KRFS.js";import{b as B,e as O,g as D,h as V,i as G,k as N}from"./chunk-JVU275UU.js";import"./chunk-53HZMJ3F.js";import"./chunk-YR3GNGTJ.js";import{Ba as l,Ca as h,Ma as E,Oa as w,Ra as k,Sa as x,Ta as _,Ua as b,Va as t,Wa as o,Xa as F,Ya as I,Za as d,_ as f,_a as c,cb as r,eb as u,fb as S,ga as C,gb as y,ha as v,hb as T,jb as g,oa as A}from"./chunk-PQFGVKFM.js";function L(n,p){if(n&1&&(t(0,"th",5),r(1),o()),n&2){let e=p.$implicit,i=c();l(),u(" ",i.nombreColumnas[e]||e," ")}}function P(n,p){if(n&1&&r(0),n&2){let e=c().$implicit,i=c().$implicit;u(" ",i[e.split(".")[0]]?i[e.split(".")[0]][e.split(".")[1]]:""," ")}}function U(n,p){if(n&1&&r(0),n&2){let e=c().$implicit,i=c().$implicit;u(" ",i[e]," ")}}function j(n,p){if(n&1&&(t(0,"td",8),E(1,P,1,1)(2,U,1,1),o()),n&2){let e=p.$implicit;l(),k(e.includes(".")?1:2)}}function Q(n,p){if(n&1){let e=I();t(0,"tr",7),_(1,j,3,1,"td",8,x),t(3,"td",9)(4,"a",10),d("click",function(){let a=C(e).$implicit,s=c();return v(s.onAction("Editar",a))}),r(5,"Ver Detalle"),o(),t(6,"a",11),d("click",function(){let a=C(e).$implicit,s=c();return v(s.onAction("Eliminar",a))}),F(7,"i",12),o()()()}if(n&2){let e=c();l(),b(e.columnas)}}var W=(()=>{class n{title="";columnas=[];nombreColumnas={};dataSource=[];set titulo(e){this.title=e}set columns(e){this.columnas=e}set nombreColumns(e){this.nombreColumnas=e}set data(e){this.dataSource=e}action=new A;onAction(e,i){this.action.emit({accion:e,fila:i})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=f({type:n,selectors:[["app-table-action"]],inputs:{titulo:"titulo",columns:"columns",nombreColumns:"nombreColumns",data:"data"},outputs:{action:"action"},standalone:!0,features:[g],decls:13,vars:0,consts:[[1,""],[1,"relative","shadow-lg","sm:rounded-lg"],[1,"overflow-scroll","overflow-y-auto","max-h-[78vh]","rounded-xl","2xl:max-h-[calc(83vh)]"],[1,"w-full","overflow-scroll","text-sm","text-left","rtl:text-right","text-gray-500"],[1,"sticky","top-0","text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"px-6","py-3","sticky","top-0","bg-red-800","text-white"],["scope","col",1,"px-6","py-3","bg-red-800","text-white"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600"],[1,"px-6","py-2"],[1,"py-2","text-left","flex","items-center","gap-4"],[1,"font-medium","text-white","bg-red-800","text-center","cursor-pointer","px-2","py-1","rounded-lg",3,"click"],[1,"font-medium","text-red-800","mr-4","cursor-pointer",3,"click"],[1,"bx","bxs-trash","text-[1.2rem]"]],template:function(i,a){i&1&&(t(0,"main",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead",4)(5,"tr"),_(6,L,2,1,"th",5,x),t(8,"th",6),r(9," Acciones "),o()()(),t(10,"tbody"),_(11,Q,8,0,"tr",7,x),o()()()()()),i&2&&(l(6),b(a.columnas),l(5),b(a.dataSource))}})}return n})();var le=(()=>{class n{alumnoService;router;title="Lista de alumnos";columnas=["nombre","apellido","documento","edad","gradoId","seccion.nombre"];alumnos=[];filtroNombre="";filtroGrado="";filtroSeccion="";nombreColumnas={nombre:"Nombre",apellido:"Apellido",gradoId:"Grado",edad:"Edad","grado.nombre":"Grado","seccion.nombre":"Secci\xF3n"};idAlumno="";constructor(e,i){this.alumnoService=e,this.router=i}ngOnInit(){this.obtenerAlumnos()}obtenerAlumnos(){this.alumnoService.getAlumnos(this.filtroGrado,this.filtroSeccion).subscribe(e=>{this.alumnos=e},e=>{console.error("Error al obtener alumnos:",e)})}aplicarFiltro(){this.obtenerAlumnos()}onAction(e){e.accion=="Editar"?this.editar(e.fila):e.accion=="Eliminar"&&this.eliminar(e.fila)}editar(e){this.idAlumno=e.id,this.router.navigate(["/dashboard/lista-alumnos",this.idAlumno])}eliminar(e){console.log("eliminar",e)}static \u0275fac=function(i){return new(i||n)(h(R),h(M))};static \u0275cmp=f({type:n,selectors:[["app-alumnos-tabla"]],standalone:!0,features:[g],decls:37,vars:7,consts:[[1,"md:w-full","md:h-full","md:flex","flex-col","items-center","w-[365px]"],[1,"mb-4","text-3xl","font-extrabold","leading-none","tracking-tight","text-red-800","md:text-4xl"],[1,"flex","flex-col","gap-6"],[1,"flex","gap-2"],[1,"flex","flex-col"],["for","grado",1,"text-sm","font-semibold"],[1,"text-sm","rounded-md","focus:border-red-800","focus:ring-red-800",3,"ngModelChange","change","ngModel"],["value","",1,"hover:bg-red-800"],["value","PRIMERO",1,"hover:bg-red-800"],["value","SEGUNDO"],["value","TERCERO"],["value","CUARTO"],["value","QUINTO"],["for","seccion",1,"text-sm","font-semibold"],["value",""],["value","A"],["value","B"],["value","C"],["value","D"],[3,"action","titulo","nombreColumns","columns","data"]],template:function(i,a){i&1&&(t(0,"div",0)(1,"p",1),r(2),o(),t(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),r(7,"Grado:"),o(),t(8,"select",6),T("ngModelChange",function(m){return y(a.filtroGrado,m)||(a.filtroGrado=m),m}),d("change",function(){return a.aplicarFiltro()}),t(9,"option",7),r(10,"Todos"),o(),t(11,"option",8),r(12,"1\xBA"),o(),t(13,"option",9),r(14,"2\xBA"),o(),t(15,"option",10),r(16,"3\xBA"),o(),t(17,"option",11),r(18,"4\xBA"),o(),t(19,"option",12),r(20,"5\xBA"),o()()(),t(21,"div",4)(22,"label",13),r(23,"Secci\xF3n:"),o(),t(24,"select",6),T("ngModelChange",function(m){return y(a.filtroSeccion,m)||(a.filtroSeccion=m),m}),d("change",function(){return a.aplicarFiltro()}),t(25,"option",14),r(26,"Todos"),o(),t(27,"option",15),r(28,"A"),o(),t(29,"option",16),r(30,"B"),o(),t(31,"option",17),r(32,"C"),o(),t(33,"option",18),r(34,"D"),o()()()(),t(35,"div")(36,"app-table-action",19),d("action",function(m){return a.onAction(m)}),o()()()()),i&2&&(l(2),u(" ",a.title," "),l(6),S("ngModel",a.filtroGrado),l(16),S("ngModel",a.filtroSeccion),l(12),w("titulo",a.title)("nombreColumns",a.nombreColumnas)("columns",a.columnas)("data",a.alumnos))},dependencies:[N,V,G,D,B,O,W]})}return n})();export{le as default};
